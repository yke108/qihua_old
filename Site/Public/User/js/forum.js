!function(e){function a(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}var r={};return a.m=e,a.c=r,a.p="js/",a(0)}([function(e,a,r){$(function(){function e(){u.isFormValid()&&$(".hock_submit").addClass("active")}function a(){ajaxData={data:{companyName:n.val(),contact:s.val(),phone:i.val(),uv_r:$("#uv_r").val()}},o.ajax(t.forumRegister,ajaxData,$(".hock_submit")).then(function(e){$(".content").hide(),$(".succ-wrap").show()},function(e){$("#error-tips").html(e.msg),e.data.cache&&$("#uv_r").val(e.data.cache),e.data.token&&$("#_ActionToken_").val(e.data.token)})}var t=r(1),o=r(3),n=$('input[name="company"]'),s=$('input[name="username"]'),i=$('input[name="phone"]'),u=($('input[name="type"]'),$("form").validator({stopOnError:!0,focusCleanup:!0,focusInvalid:!1,showOk:!1,msgMaker:!1,timely:2,rules:{phone:function(e,a,r){return/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(e.value)},checkPhone:function(e){return $.ajax({url:t.forumPhoneCheck.url,type:"post",data:{phone:e.value},dataType:"json"})},companyName:function(e){if(!/.{4,50}/.test(e.value))return!1},isAllNunber:function(e){if(/^\d+$/.test(e.value))return!1},hasSpace:function(e){if(/\s/g.test(e.value))return!1},space:function(e){var a=e.value;return!/\s/.test(a.substr(0,1))&&(!/\s/.test(a.substr(a.length-1,1))&&void 0)},username:function(e){if(!/^([\u4e00-\uFA29A-Za-z]{2,20})$/.test(e.value))return!1}},messages:{username:"姓名应为2-20个字符，仅限中文或英文，不能有空格",companyName:"公司名应为4-50个字符，不能纯数字",isAllNunber:"{0}不能纯数字",space:"公司名称不能空格开头或结尾",hasSpace:"{0}不能有空格",phone:"手机号码格式有误！"},fields:{company:{rule:"公司名:required; companyName; isAllNunber; space; checkCompanyName;",invalid:function(e,a){$(e).parent().addClass("has-error"),$("#error-tips").html(a.msg),$(".hock_submit").addClass("has-error")},valid:function(a,r){$(a).parent().removeClass("has-error"),$(".hock_submit").removeClass("has-error"),$("#error-tips").html(""),e()}},username:{rule:"姓名:required; username; hasSpace;",invalid:function(e,a){$(e).parent().addClass("has-error"),$("#error-tips").html(a.msg),$(".hock_submit").addClass("has-error")},valid:function(a,r){$(a).parent().removeClass("has-error"),$(".hock_submit").removeClass("has-error"),$("#error-tips").html(""),e()}},phone:{rule:"手机号码:required; phone; checkPhone",invalid:function(e,a){$(e).parent().addClass("has-error"),$("#error-tips").html(a.msg),$(".hock_submit").addClass("has-error")},valid:function(a,r){$(a).parent().removeClass("has-error"),$(".hock_submit").removeClass("has-error"),$("#error-tips").html(""),e()}}},invalid:function(e,a){$("#error-tips").html(a[0]),$(".hock_submit").removeClass("active").addClass("has-error")},valid:function(e){$(".hock_submit").addClass("active").removeClass("has-error"),a()}}).data("validator"));$(".hock_submit").on("click",function(){$("form").trigger("submit")})})},function(e,a,r){var t=r(2),o={checkCompanyName:{url:t.apiBasePath+"/Home/Account/checkCompanyName",data:{companyName:""}},checkPhone:{url:t.apiBasePath+"/Home/User/CheckPhone",data:{phone:"",act:""}},getMsgCode:{url:t.apiBasePath+"/Home/user/code",data:{phone:"",timestamp:"",uv_r:""}},checkMsgCode:{url:t.apiBasePath+"/Home/User/CheckMsg",data:{msgCode:""}},register:{url:t.apiBasePath+"/User/register",data:{companyName:"",contact:"",phone:"",password:"",msgcode:""}},login:{url:t.apiBasePath+"/user/login",data:{username:"",password:""}},accountInfo:{url:t.apiBasePath+"/Account/insertInfo",data:{companyName:"",contact:""}},submitAuthCard:{url:t.apiBasePath+"/Account/submit_auth",data:{type:"",businessCert:"",codeCert:"",taxCert:""}},forumRegister:{url:t.apiBasePath+"/forum/register",data:{companyName:"",contact:"",phone:""}},forumPhoneCheck:{url:t.apiBasePath+"/forum/checkPhone",data:{phone:""}}};e.exports=o},function(e,a){var r={apiBasePath:"",apiMember:""};e.exports=r},function(e,a){var r={ajax:function(e,a,r){if(r){if(r.prop("disabled"))return;r.prop("disabled",!0),r.addClass("ajax-loading")}var t={url:"",type:"POST",dataType:"json"};$.ajaxSetup({beforeSend:function(e){$("#_ActionToken_").val()&&e.setRequestHeader("Actiontoken",$("#_ActionToken_").val())}});var o=$.extend(t,e,a);return $.ajax(o).then(function(e){return 200!=e.code?$.Deferred().reject(e).promise():$.Deferred().resolve(e).promise()},function(){console.log("服务器错误，请稍后再试"),$.Deferred().reject().promise()}).always(function(e){r&&(r.prop("disabled",!1),r.removeClass("ajax-loading")),600==e.code&&e.data&&e.data.token&&$("#_ActionToken_").val(e.data.token)})},getUrlParam:function(){var e={},a="",r="",t=[],o=0,n=0;if(r=location.search.substr(1),0!==r.length){for(t=r.split("&"),n=t.length;o<n;o++)a=t[o].split("=")[0],e[a]=encodeURIComponent(t[o].split("=")[1]);return e}},serializeParam:function(e){if(!e)return"";var a=[];for(var r in e){var t=e[r];"[object Array]"!=Object.prototype.toString.call(t)?a.push(r+"="+e[r]):a.push(r+"="+e[r].join(","))}return a.join("&")},param:function(e){var a={};if(0==e.length)return a;for(var r,t=0,o=e.length;t<o;t++)r=e[t],a[r.name]=r.value;return a}};e.exports=r}]);